---
import Layout from '../../layouts/Layout.astro';
import PaymentForm from '../../components/PaymentForm.vue';
import { translations } from '../../i18n';

const lang = 'br';
---

<Layout title="ER | Pagamento" description="Pagamento por serviços prestados ou apoio a projetos open source">
  <div class="py-12 bg-gray-50 min-h-screen">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-8">
        <h1 class="text-4xl font-bold text-gray-900 mb-4">
          Pagamento
        </h1>
        <p class="text-lg text-gray-600">
          Serviços prestados ou apoio a projetos open source
        </p>
      </div>
      
      <!-- Explicação dos tipos de pagamento -->
      <div class="bg-white rounded-xl shadow-lg p-6 mb-8">
        <h2 class="text-2xl font-bold text-gray-900 mb-4">Tipos de Pagamento</h2>
        <div class="space-y-4 text-gray-700">
          <div class="border-l-4 border-blue-500 pl-4">
            <h3 class="font-semibold text-lg">Pagamento Recorrente</h3>
            <p>Cobrança automática mensal ou anual. Ideal para serviços contínuos ou apoio regular a projetos open source.</p>
          </div>
          <div class="border-l-4 border-green-500 pl-4">
            <h3 class="font-semibold text-lg">Pagamento Único</h3>
            <p>Cobrança pontual por serviço específico prestado ou contribuição única para projetos open source.</p>
          </div>
        </div>
        
        <div class="mt-4 p-3 bg-gray-50 border border-gray-200 rounded-lg">
          <p class="text-sm text-gray-600">
            <strong>Moedas aceitas:</strong> Dólares (USD) - preferência global | Reais (BRL) - apenas contratos firmados no Brasil
          </p>
        </div>
        
        <div class="mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg">
          <p class="text-sm text-yellow-800">
            <strong>Importante:</strong> Este pagamento <strong>não gera obrigação</strong> de nossa parte para prestar qualquer serviço, 
            salvo se tivermos contrato assinado com certificado digital válido. 
            Ao prosseguir, você concorda com nossos 
            <a href="/br/termos" class="text-yellow-900 underline hover:text-yellow-700">Termos de Uso</a> e 
            <a href="/br/privacidade" class="text-yellow-900 underline hover:text-yellow-700">Política de Privacidade</a>.
          </p>
        </div>
      </div>
      
      <!-- LGPD/GDPR Consent Notice -->
      <div class="bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6">
        <div class="flex items-start">
          <svg class="w-5 h-5 text-gray-600 mt-0.5 mr-3 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
          </svg>
          <div class="text-sm text-gray-700">
            <p class="mb-2">
              <strong>Proteção de Dados:</strong> Seus dados pessoais serão processados temporariamente 
              apenas para viabilizar o pagamento via Stripe. Não armazenamos informações de cartão.
            </p>
            <p>
              <strong>Seus direitos:</strong> Acesso, correção, exclusão e portabilidade dos dados 
              conforme LGPD/GDPR. Gerencie via 
              <a href="/br/gerenciar" class="text-blue-600 underline hover:text-blue-800">portal do cliente</a>.
            </p>
          </div>
        </div>
      </div>
      
      <PaymentForm client:load lang={lang} translations={translations[lang]} />
      
      <!-- Security Notice -->
      <div class="mt-8">
        <div class="bg-blue-50 border border-blue-200 rounded-lg p-6">
          <div class="flex items-start">
            <svg class="w-6 h-6 text-blue-600 mt-1 mr-3 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path>
            </svg>
            <div>
              <h3 class="text-lg font-semibold text-blue-900 mb-2">
                Segurança Garantida
              </h3>
              <ul class="text-blue-800 space-y-1 text-sm">
                <li>• <strong>Criptografia SSL/TLS</strong> em todas as comunicações</li>
                <li>• <strong>Stripe PCI DSS Nível 1</strong> - Máxima segurança em pagamentos</li>
                <li>• <strong>Zero armazenamento</strong> de dados de cartão ou sensíveis</li>
                <li>• <strong>Conformidade LGPD/GDPR</strong> - Proteção de dados garantida</li>
                <li>• <strong>Autenticação 3D Secure</strong> quando necessária</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</Layout>

<style>
  /* Ensure form is responsive on all devices */
  @media (max-width: 768px) {
    .max-w-2xl {
      margin-left: 1rem;
      margin-right: 1rem;
    }
  }
  
  /* Touch targets for mobile */
  @media (max-width: 640px) {
    button, input, select {
      min-height: 44px;
    }
  }
</style>